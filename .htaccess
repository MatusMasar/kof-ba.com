RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.html -f
RewriteRule ^(.*)$ $1.html [NC,L]
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.webp -f
RewriteRule ^(.*)$ $1.webp [NC,L]
RewriteCond %{HTTP:X-Forwarded-Proto} !=https
RewriteRule ^.*$ https://%{SERVER_NAME}%{REQUEST_URI} [L,R]

php_flag xcache.cacher 1
php_flag xcache.size 2048

<IfModule mod_expires.c>

  ExpiresActive on
  ExpiresDefault                                    "access plus 24 months"
  
  # DATA
  ExpiresByType text/html                           "access plus 0 seconds"
  ExpiresByType text/xml                            "access plus 0 seconds"
  ExpiresByType text/plain                          "access plus 0 seconds"
  ExpiresByType application/xml                     "access plus 0 seconds"
  ExpiresByType application/json                    "access plus 0 seconds"
  ExpiresByType application/ld+json                 "access plus 0 seconds"
  ExpiresByType application/vnd.geo+json            "access plus 0 seconds"
  
  # SCRIPTS
  ExpiresByType text/css                            "access plus 0 seconds" 
  ExpiresByType text/javascript                     "access plus 0 seconds" 
  ExpiresByType application/javascript              "access plus 0 seconds" 
  ExpiresByType application/x-javascript            "access plus 0 seconds" 
  
  # IMAGES
  ExpiresByType image/gif                           "access plus 6 months"
  ExpiresByType image/png                           "access plus 6 months"
  ExpiresByType image/jpe                           "access plus 6 months"
  ExpiresByType image/jpg                           "access plus 6 months"
  ExpiresByType image/jpeg                          "access plus 6 months"
  ExpiresByType image/webp                          "access plus 6 months"
  
  # ICONS
  ExpiresByType image/ico                           "access plus 1 month"
  ExpiresByType image/icon                          "access plus 1 month"
  ExpiresByType text/ico                            "access plus 1 month"
  ExpiresByType image/x-ico                         "access plus 1 month"
  ExpiresByType image/x-icon                        "access plus 1 month"
  ExpiresByType application/ico                     "access plus 1 month"  
  
  # FLASH
  ExpiresByType application/x-shockwave-flash       "access plus 1 month"
  ExpiresByType video/x-flv                         "access plus 1 month"
  
  # MANIFEST
  ExpiresByType application/x-web-app-manifest+json "access plus 0 seconds"
  ExpiresByType text/cache-manifest                 "access plus 0 seconds"
  
  # OTHERS
  ExpiresByType application/pdf                     "access plus 1 month"
  ExpiresByType image/vnd.wap.wbmp                  "access plus 1 month"
  ExpiresByType application/vnd.wap.wbxml           "access plus 1 month"
  ExpiresByType application/smil                    "access plus 1 month"
  
  <IfModule mod_headers.c>
    Header append Cache-Control "public"

    <FilesMatch "\.(ico|flv|jpg|jpeg|png|gif|swf|webp)$">
        Header set Cache-Control "max-age=2678400, public"
    </FilesMatch>

    <FilesMatch "\.(html|htm|css|js)$">
        Header set Cache-Control "no-cache, no-store, must-revalidate"
        Header set Pragma "no-cache"
        Header set Expires "0"
    </FilesMatch>

    <FilesMatch "\.(pdf)$">
        Header set Cache-Control "max-age=2678400, public"
    </FilesMatch>
    </IfModule>


</IfModule>